(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],Array(21).concat([function(e,t,a){e.exports=a.p+"static/media/not-found.5bbc83be.svg"},function(e,t,a){e.exports=a.p+"static/media/me.95c0b2e7.jpg"},function(e,t,a){e.exports=a.p+"static/media/fb.083234de.svg"},function(e,t,a){e.exports=a.p+"static/media/github.f7f3402f.svg"},,function(e,t,a){e.exports=a(51)},,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),i=a(4),s=(a(31),a(12)),l=a(16),u=a(1),m=a(2),p=o.a.createContext(),d=o.a.createContext(),_=a(25),g=function(e){var t=e.component,a=Object(_.a)(e,["component"]);return o.a.useEffect((function(){a.loggedIn||localStorage.getItem("jwt")||a.openLoginPopup()})),o.a.createElement(m.b,null,a.loggedIn||localStorage.getItem("jwt")?o.a.createElement(t,a):o.a.createElement(m.a,{to:"./"}))};a(37);var f=function(e){var t=o.a.useContext(p),a=Object(m.h)().pathname,n=e.changeBackground,r=e.onLoginOpen,c=e.onSignOut,s=e.loggedIn,l="".concat("/"===a?"navigation__signout":"navigation__signout navigation__signout_loggedin"),u="".concat("/"===a?"navigation__button":"navigation__button navigation__button_loggedin"),d="".concat("/"===a?"navigation__link":"navigation__link navigation__link_loggedin");return o.a.createElement("nav",{className:"navigation"},"/"===a?o.a.createElement(i.c,{exact:!0,to:"/",activeClassName:"navigation__link_active",className:d},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"):o.a.createElement(i.c,{exact:!0,to:"/",activeClassName:"navigation__link_active",className:d,onClick:n},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),s?o.a.createElement(o.a.Fragment,null,"/saved-news"===a?o.a.createElement(i.c,{exact:!0,to:"/saved-news",activeClassName:"navigation__link_active-black",className:d},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"):o.a.createElement(i.c,{exact:!0,to:"/saved-news",activeClassName:"navigation__link_active-black",className:d,onClick:n},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),"/"===a?o.a.createElement("button",{className:u,onClick:c},t.name,o.a.createElement("div",{className:l})):o.a.createElement("button",{className:u,onClick:function(){c(),n()}},t.name,o.a.createElement("div",{className:l}))):o.a.createElement("button",{className:u,onClick:r},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))};a(38);var h=function(e){var t=Object(m.h)().pathname,a=e.isMobile,n=e.changeBackground,r=e.onLoginOpen,c=e.loggedIn,s=e.onSignOut,l="".concat("/"===t?"header__logo":"header__logo header__logo_loggedin"),u="".concat(a?l:"header__logo header__logo_mobile"),p="".concat("/"===t?"header__logo":u),d="".concat("/"===t?"header__menu-span":"header__menu-span header__menu-span_loggedin"),_="".concat("/"===t?"inset 0px -1px 0px rgba(255, 255, 255, .2)":"inset 0 -1px 0 #d1d2d6"),g="".concat("/"===t?"header":"header header_loggedin"),h="".concat(a?"header header_mobile":g);return o.a.createElement("div",{className:h,style:{boxShadow:_}},o.a.createElement("input",{type:"checkbox",className:"header__menu-toggle",id:"header__menu-toggle"}),o.a.createElement("label",{htmlFor:"header__menu-toggle",className:"header__menu-button"},o.a.createElement("span",{className:d,onClick:n})),"/"===t?o.a.createElement(i.c,{exact:!0,to:"/",className:p,lang:"en"},"NewsExplorer"):o.a.createElement(i.c,{exact:!0,to:"/",className:p,lang:"en",onClick:function(){a&&n()}},"NewsExplorer"),o.a.createElement(f,{changeBackground:n,onLoginOpen:r,loggedIn:c,onSignOut:s}))};a(39);var E=function(e){var t=e.isLoading,a=e.onSearch,n=e.errSearchInput,r=e.clearSearchErr,c=o.a.useRef();return o.a.useEffect((function(){var e=localStorage.getItem("keyword");e&&(c.current.value=e)})),o.a.createElement("section",{className:"search"},o.a.createElement("h1",{className:"search__title"},"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"),o.a.createElement("p",{className:"search__subtitle"},"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."),o.a.createElement("form",{className:"search__form",method:"get",action:"#",onSubmit:function(e){e.preventDefault(),a(c.current.value)}},o.a.createElement("input",{className:"search__input",id:"search-input",type:"text",ref:c,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",name:"search",disabled:t,onChange:r}),o.a.createElement("button",{className:"search__button",type:"submit",disabled:t},"\u0418\u0441\u043a\u0430\u0442\u044c")),o.a.createElement("span",{className:"search__span-error"},n))};a(40);var v=function(e){var t=e.loggedIn,a=e.onCardClick,n=e.article,r=n.keyword,c=n.title,i=n.description,s=n.publishedAt,l=n.url,p=n.urlToImage,_=n.source,g=o.a.useState(!1),f=Object(u.a)(g,2),h=f[0],E=f[1],v=o.a.useContext(d).savedNews,b=Object(m.h)().pathname,N=t&&v.some((function(e){return e.publishedAt===n.publishedAt&&e.title===n.title})),w=new Date(s),S=w.toLocaleString("ru",{month:"long",day:"numeric"})+", "+w.getFullYear(),k="".concat("/"===b?"tooltip__text":"tooltip__text tooltip__text_save-news"),y="".concat("/"===b?'"tooltip tooltip_save" '.concat(N?"tooltip tooltip_save-active":"tooltip tooltip_save"):"tooltip tooltip_trash"),j=t?"".concat(N&&"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445"):"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438";return o.a.createElement("li",{className:"card"},o.a.createElement("img",{className:"card__img",src:p,alt:c}),"/saved-news"===b&&o.a.createElement("span",{className:"card__tag"},r),o.a.createElement("button",{type:"button",className:y,onClick:function(){a(n),E(!h)}},(!t||t&&N)&&o.a.createElement("span",{className:k},j)),o.a.createElement("a",{className:"card__caption",href:l,rel:"noreferrer noopener",target:"_blank"},o.a.createElement("div",{className:"card__info"},o.a.createElement("span",{className:"card__date"},S),o.a.createElement("h3",{className:"card__title"},c),o.a.createElement("p",{className:"card__text"},i)),o.a.createElement("span",{className:"card__sourse"},"/"===b?_.name:_)))};a(41);function b(e){var t=e.loggedIn,a=e.onCardClick,n=e.articlesToRender,r=e.savedNews;return o.a.createElement("ul",{className:"card-list__cards"},n.map((function(e,n){return o.a.createElement(v,{article:e,key:n,loggedIn:t,savedNews:r,onCardClick:a})})))}a(42);var N=function(){return o.a.createElement("div",{className:"preloader"},o.a.createElement("div",{className:"circle-preloader"}),o.a.createElement("span",{className:"preloader__text"},"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."))},w=(a(43),a(21)),S=a.n(w);var k=function(e){var t=e.title,a=e.text;return o.a.createElement("section",{className:"not-found-news"},o.a.createElement("img",{className:"not-found-news__img",src:S.a,alt:t}),o.a.createElement("h3",{className:"not-found-news__title"},t),o.a.createElement("p",{className:"not-found-news__text"},a))},y=a(22),j=a.n(y);a(44);var C=function(){return o.a.createElement("section",{className:"about"},o.a.createElement("img",{className:"about__img",alt:"\u0424\u043e\u0442\u043e \u0430\u0432\u0442\u043e\u0440\u0430",src:j.a}),o.a.createElement("div",{className:"about__info"},o.a.createElement("h3",{className:"about__title"},"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"),o.a.createElement("p",{className:"about__text"},"\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u041e\u043b\u044c\u0433\u0430 \u0410\u043b\u044c\u0431\u0443\u043a\u043e\u0432\u0430 \u0438 \u044d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442 - \u043c\u043e\u044f \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043d\u0430 \u0412\u0435\u0431-\u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0435 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c."),o.a.createElement("p",{className:"about__text"},"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0432 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u043b\u043e \u043c\u043d\u0435 \u0437\u0430 10 \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u0441 0 \u043e\u0441\u0432\u043e\u0438\u0442\u044c:"),o.a.createElement("ul",{className:"about__description"},o.a.createElement("li",{className:"about__description-item"},"\u041a\u0440\u043e\u0441\u0441\u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u0443\u044e \u0438 adaptive/responsive \u0432\u0435\u0440\u0441\u0442\u043a\u0443 (HTML, CSS) \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043f\u043e \u043c\u0435\u0442\u043e\u0434\u043e\u043b\u043e\u0433\u0438\u0438 \u0411\u042d\u041c."),o.a.createElement("li",{className:"about__description-item"},"\u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u044f\u0437\u044b\u043a\u0430 JavaScript \u0434\u043b\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0434\u0438\u043d\u0430\u043c\u0438\u043a\u0438 \u0441\u0430\u0439\u0442\u0430 \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u043d\u043e-\u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043f\u0430\u0440\u0430\u0434\u0438\u0433\u043c\u0435."),o.a.createElement("li",{className:"about__description-item"},"React."),o.a.createElement("li",{className:"about__description-item"},"\u0411\u044d\u043a\u044d\u043d\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (Node.js, Express.js, MongoDB, Nginx)."),o.a.createElement("li",{className:"about__description-item"},"\u0421\u0431\u043e\u0440\u043a\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Webpack."),o.a.createElement("li",{className:"about__description-item"},"\u0414\u0438\u043f\u043b\u043e\u0439 \u0441\u0430\u0439\u0442 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440."),o.a.createElement("li",{className:"about__description-item"},"\u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u041f\u041e (WebStorm, VSCode, Git, Figma, Avocode, dev tools, Postman)."),o.a.createElement("li",{className:"about__description-item"},"\u041b\u0438\u043d\u0442\u0438\u043d\u0433 \u043a\u043e\u0434\u0430 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 ESLint \u0438 \u0441\u0442\u0438\u043b\u044c \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u0430 Airbnb."),o.a.createElement("li",{className:"about__description-item"},"\u041d\u0430\u0432\u044b\u043a\u0438 \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0439 \u0432 \u0441\u0440\u0435\u0434\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 Slack."),o.a.createElement("li",{className:"about__description-item"},"\u0427\u0435\u0442\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043d\u044f\u0442\u0438\u0435 \u0434\u0435\u0434\u043b\u0430\u0439\u043d))))")),o.a.createElement("p",{className:"about__text"},"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0432\u0441\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0437\u0430 \u043e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u043e\u0431\u0443\u0447\u0430\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442!")))},O=new Date;O.setDate(O.getDate()-7);var x=O.toISOString().split("T")[0],I=(new Date).toISOString().split("T")[0],L="https://api.albnews.students.nomoreparties.xyz",P={baseUrl:"https://nomoreparties.co/news/v2/everything",from:"from=".concat(x),to:"to=".concat(I),pageSize:"pageSize=100",apiKey:"apiKey=0f2f907ab713461f8cdafc37174b4a2a",headers:{"Content-Type":"application/x-www-form-urlencoded"}};a(45);function T(e){var t=e.loggedIn,a=e.isLoading,n=e.onCardClick,r=e.onShowMore,c=e.isSearchOk,i=e.currentRow,s=e.isErr,l=o.a.useContext(d),u=l.news,m=l.savedNews,p=u.slice(0,3*(i+1));return o.a.createElement("div",{className:"main"},a&&o.a.createElement(N,null),c&&o.a.createElement("section",{className:"main__card-list"},p.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"main__card-title"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"),o.a.createElement(b,{articlesToRender:p,loggedIn:t,savedNews:m,onCardClick:n,currentRow:i}),p.length!==u.length&&o.a.createElement("button",{className:"main__btn",type:"button",onClick:r},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435")):o.a.createElement(k,{title:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",text:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})),s&&o.a.createElement(k,{title:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",text:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}),o.a.createElement(C,null))}a(46);var A=function(e){var t=o.a.useContext(p),a=o.a.useContext(d).savedNews,n=e.loggedIn?a.map((function(e){return e.keyword})):[],r=Object(s.a)(new Set(n)).map((function(e){var t={};return t.keyword=e,t.quantity=n.filter((function(t){return t===e})).length,t})).sort((function(e,t){return t.quantity-e.quantity})).map((function(e){return e.keyword})),c=r.length<=3?r.join(", "):"".concat(r.slice(0,2).join(", ")," \u0438 ").concat(r.slice(2).length).concat(function(e){var t="-\u0438 \u0434\u0440\u0443\u0433\u0438\u043c";return e.toString().endsWith("1")&&!e.toString().endsWith("11")?t="-\u043c\u0443 \u0434\u0440\u0443\u0433\u043e\u043c\u0443":(e.toString().endsWith("2")&&!e.toString().endsWith("12")||e.toString().endsWith("3")&&!e.toString().endsWith("13")||e.toString().endsWith("4")&&!e.toString().endsWith("14"))&&(t="-\u043c \u0434\u0440\u0443\u0433\u0438\u043c"),t}(r.length-2));return o.a.createElement("section",{className:"news-info"},o.a.createElement("p",{className:"news-info__subtitle"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),o.a.createElement("h3",{className:"news-info__title"},t.name,", \u0443 \u0432\u0430\u0441 ",a.length," ",function(e){var t="\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439";return e.toString().endsWith("1")&&!e.toString().endsWith("11")?t="\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f":(e.toString().endsWith("2")&&!e.toString().endsWith("12")||e.toString().endsWith("3")&&!e.toString().endsWith("13")||e.toString().endsWith("4")&&!e.toString().endsWith("14"))&&(t="\u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),t}(a.length)),a.length>0?o.a.createElement("p",{className:"news-info__key"},"\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c:\xa0",o.a.createElement("span",{className:"news-info__key_bold"},c)):null)};var W=function(e){var t=e.loggedIn,a=e.onCardClick,n=o.a.useContext(d).savedNews;return o.a.createElement(o.a.Fragment,null,o.a.createElement(A,{loggedIn:t}),n.length>0?o.a.createElement(b,{loggedIn:t,onCardClick:a,articlesToRender:n}):null)},R=a(23),z=a.n(R),M=a(24),B=a.n(M);a(47);var D=function(){return o.a.createElement("div",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Supersite, Powered by News API"),o.a.createElement("nav",{className:"footer__content-social"},o.a.createElement("ul",{className:"footer__links footer__links_words"},o.a.createElement("li",null,o.a.createElement(i.b,{className:"footer__link",to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),o.a.createElement("li",null,o.a.createElement("a",{className:"footer__link",href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noreferrer noopener"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"))),o.a.createElement("ul",{className:"footer__links footer__links_social"},o.a.createElement("li",null,o.a.createElement("a",{className:"footer__icon footer__icon_github",href:"https://github.com/oalbukova/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{className:"footer__icon footer__icon_fb",src:B.a,alt:"github",lang:"en"}))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://facebook.com/profile.php?id=100000391942588/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{className:"footer__icon footer__icon_fb",src:z.a,alt:"facebook",lang:"en"}))))))};a(48);var q=function(e){var t=e.isOpen,a=e.name,n=e.onSubmit,r=e.onClose,c=e.title,i=e.children;return o.a.createElement("section",{className:t?"popup popup_opened":"popup"},o.a.createElement("form",{className:"popup__container popup__container_type_".concat(e.name),name:a,method:"post",action:"#",onSubmit:n},o.a.createElement("button",{onClick:r,className:"popup__button-close",type:"reset"}),o.a.createElement("h2",{className:"popup__title popup__title_type_".concat(a)},c),i))};var J=function(e){var t=e.changePopup,a=e.isOpen,n=e.onClose,r=e.handleRegister,c=e.registrationErr,i=e.isLoading,s=o.a.useRef(),l=o.a.useRef(),m=o.a.useRef(),p=o.a.useState(""),d=Object(u.a)(p,2),_=d[0],g=d[1],f=o.a.useState(""),h=Object(u.a)(f,2),E=h[0],v=h[1],b=o.a.useState(""),N=Object(u.a)(b,2),w=N[0],S=N[1],k=o.a.useState(""),y=Object(u.a)(k,2),j=y[0],C=y[1],O=o.a.useState(""),x=Object(u.a)(O,2),I=x[0],L=x[1],P=o.a.useState(""),T=Object(u.a)(P,2),A=T[0],W=T[1],R=o.a.useState(!1),z=Object(u.a)(R,2),M=z[0],B=z[1],D=o.a.useState(!1),J=Object(u.a)(D,2),F=J[0],G=J[1],K=o.a.useState(!1),$=Object(u.a)(K,2),U=$[0],H=$[1],V=o.a.useState(!0),Y=Object(u.a)(V,2),Z=Y[0],Q=Y[1];function X(){C(s.current.validationMessage),L(l.current.validationMessage),W(m.current.validationMessage),s.current.validity.valid?B(!0):B(!1),l.current.validity.valid?G(!0):G(!1),m.current.validity.valid?H(!0):H(!1)}return o.a.useEffect((function(){Q(!0),g(""),v(""),S(""),C(""),L(""),W("")}),[a]),o.a.useEffect((function(){Q(!(M&&F&&U))}),[M,F,U,E,w,_]),o.a.createElement(q,{name:"register",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",isOpen:a,onClose:n,changePopup:t,onSubmit:function(e){e.preventDefault(),r({email:E,password:w,name:_})}},o.a.createElement("span",{className:"popup__input-name",lang:"en"},"Email"),o.a.createElement("input",{className:"popup__input",id:"email-register",name:"email",type:"email",value:E||"",ref:s,onChange:function(e){v(e.target.value),X()},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",minLength:"4",maxLength:"40",disabled:i}),o.a.createElement("span",{className:"popup__span-error ".concat(!M&&"popup__span-error_type_active "),id:"email-input-error-register"},j),o.a.createElement("span",{className:"popup__input-name"},"\u041f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("input",{className:"popup__input",id:"password-register",name:"password",type:"password",value:w||"",ref:l,onChange:function(e){S(e.target.value),X()},required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",minLength:"8",disabled:i}),o.a.createElement("span",{className:"popup__span-error ".concat(!F&&"popup__span-error_type_active"),id:"password-input-error"},I),o.a.createElement("span",{className:"popup__input-name"},"\u0418\u043c\u044f"),o.a.createElement("input",{className:"popup__input",id:"name-input-register",type:"text",required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0438\u043c\u044f",value:_||"",ref:m,name:"name",pattern:"[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451 -]*",minLength:"2",maxLength:"40",onChange:function(e){g(e.target.value),X()},disabled:i}),o.a.createElement("span",{className:"popup__span-error ".concat(!U&&"popup__span-error_type_active"),id:"name-input-error-register"},A),o.a.createElement("span",{className:"popup__registration-err"},c),o.a.createElement("button",{className:Z?"popup__button-save popup__button-save_type_disabled":"popup__button-save",type:"submit",disabled:i},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),o.a.createElement("p",{className:"popup__span-registration"},"\u0438\u043b\u0438"," ",o.a.createElement("span",{className:"popup__span-registration popup__span-registration_blue",onClick:t},"\u0412\u043e\u0439\u0442\u0438")))};var F=function(e){var t=e.changePopup,a=e.isOpen,n=e.onClose,r=e.registrationErr,c=e.onLogin,i=e.isLoading,s=o.a.useRef(),l=o.a.useRef(),m=o.a.useState(""),p=Object(u.a)(m,2),d=p[0],_=p[1],g=o.a.useState(""),f=Object(u.a)(g,2),h=f[0],E=f[1],v=o.a.useState(""),b=Object(u.a)(v,2),N=b[0],w=b[1],S=o.a.useState(""),k=Object(u.a)(S,2),y=k[0],j=k[1],C=o.a.useState(!1),O=Object(u.a)(C,2),x=O[0],I=O[1],L=o.a.useState(!1),P=Object(u.a)(L,2),T=P[0],A=P[1],W=o.a.useState(!0),R=Object(u.a)(W,2),z=R[0],M=R[1];function B(){w(s.current.validationMessage),j(l.current.validationMessage),s.current.validity.valid?I(!0):I(!1),l.current.validity.valid?A(!0):A(!1)}return o.a.useEffect((function(){M(!0),_(""),E(""),w(""),j("")}),[a]),o.a.useEffect((function(){M(!x||!T)}),[x,T,d,h]),o.a.createElement(q,{onSubmit:function(e){e.preventDefault(),d&&h&&c({email:d,password:h})},name:"login",title:"\u0412\u0445\u043e\u0434",isOpen:a,onClose:n},o.a.createElement("span",{className:"popup__input-name",lang:"en"},"Email"),o.a.createElement("input",{className:"popup__input",required:!0,id:"email-login",name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",value:d||"",ref:s,onChange:function(e){_(e.target.value),B()},pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",minLength:"4",maxLength:"40",disabled:i}),o.a.createElement("span",{className:"popup__span-error ".concat(!x&&"popup__span-error_type_active "),id:"email-input-error-login"},N),o.a.createElement("span",{className:"popup__input-name"},"\u041f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("input",{className:"popup__input",required:!0,id:"password-login",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",minLength:"8",value:h||"",ref:l,onChange:function(e){E(e.target.value),B()},disabled:i}),o.a.createElement("span",{className:"popup__span-error ".concat(!T&&"popup__span-error_type_active"),id:"password-input-error-login"},y),o.a.createElement("span",{className:"popup__registration-err"},r),o.a.createElement("button",{className:z?"popup__button-save popup__button-save_type_disabled":"popup__button-save",type:"submit",disabled:i},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement("p",{className:"popup__span-registration"},"\u0438\u043b\u0438"," ",o.a.createElement("span",{className:"popup__span-registration popup__span-registration_blue",onClick:t},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))};var G=function(e){var t=e.isOpen,a=e.onClose,n=e.changePopup;return o.a.createElement(q,{name:"tooltip",title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!",isOpen:t,onClose:a,changePopup:n},o.a.createElement("span",{className:"popup__span-registration popup__span-registration_blue popup__span-registration_tooltip",onClick:n},"\u0412\u043e\u0439\u0442\u0438"))},K=function(e){return fetch("".concat(L,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){if(200===e.status)return e.json();if(400===e.status)throw new Error("\u0422\u043e\u043a\u0435\u043d \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435 \u0432 \u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");if(401===e.status)throw new Error("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d")})).then((function(e){return e})).catch((function(e){return console.log(e),Promise.reject(e)}))},$=P.baseUrl,U=P.from,H=P.to,V=P.pageSize,Y=P.apiKey;function Z(e){return function(e){return fetch("".concat($,"?q=").concat(e,"&").concat(U,"&").concat(H,"&").concat(V,"&").concat(Y)).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}(e)}a(49);var Q=function(){var e=a(50),t=o.a.useState(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],i=o.a.useState(!1),_=Object(u.a)(i,2),f=_[0],v=_[1],b=o.a.useState(!1),N=Object(u.a)(b,2),w=N[0],S=N[1],k=o.a.useState([]),y=Object(u.a)(k,2),j=y[0],C=y[1],O=o.a.useState([]),x=Object(u.a)(O,2),I=x[0],P=x[1],A=o.a.useState(0),R=Object(u.a)(A,2),z=R[0],M=R[1],B=o.a.useState(!1),q=Object(u.a)(B,2),$=q[0],U=q[1],H=o.a.useState(""),V=Object(u.a)(H,2),Y=V[0],Q=V[1],X=o.a.useState(!1),ee=Object(u.a)(X,2),te=ee[0],ae=ee[1],ne=o.a.useState(!1),oe=Object(u.a)(ne,2),re=oe[0],ce=oe[1],ie=o.a.useState(!1),se=Object(u.a)(ie,2),le=se[0],ue=se[1],me=o.a.useState({}),pe=Object(u.a)(me,2),de=pe[0],_e=pe[1],ge=o.a.useState(!1),fe=Object(u.a)(ge,2),he=fe[0],Ee=fe[1],ve=o.a.useState(""),be=Object(u.a)(ve,2),Ne=be[0],we=be[1],Se=Object(m.g)(),ke=Object(m.h)().pathname;function ye(){c(!0)}function je(){v(!0)}function Ce(){c(!1),we("")}function Oe(){v(!1),we("")}function xe(){S(!1)}function Ie(){Ce(),Oe(),xe()}function Le(e){"Escape"===e.key&&Ie()}function Pe(e){e.target.classList.contains("popup")&&Ie()}function Te(){S(!0),Ce()}function Ae(){localStorage.removeItem("jwt"),ue(!1),Se.push("/"),_e({})}function We(e){e?(ce(!0),ae(!1),C([]),M(0),Z(e).then((function(t){var a=t.articles.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{keyword:e})}));console.log(a),C(a),localStorage.setItem("news",JSON.stringify(a)),ae(!0),U(!1)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439: ".concat(e)),U(!0)})).finally((function(){return ce(!1)}))):Q("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")}function Re(){fetch("".concat(L,"/articles"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){return e.ok,e.json()})).catch((function(e){return console.log(e),Promise.reject(e)})).then((function(e){return P(e.data)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439: ".concat(e.message))}))}function ze(e){var t;(t=e._id,fetch("".concat(L,"/articles/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})).then((function(){P(I.filter((function(t){return t._id!==e._id})))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438: ".concat(e))}))}function Me(){Ee(!he)}o.a.useEffect((function(){return window.addEventListener("keydown",Le),window.addEventListener("mousedown",Pe),function(){window.removeEventListener("mousedown",Pe),window.removeEventListener("keydown",Le)}})),o.a.useEffect((function(){var e=localStorage.getItem("jwt");e&&K(e).then((function(e){ue(!0),_e(e.data),Re()})).catch((function(e){return console.log(e)}))}),[]),o.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("news"));e&&e.length&&(C(e),ae(!0))}),[]);var Be="".concat(he?"mobile-menu_active":"mobile-menu");return o.a.createElement(p.Provider,{value:de},o.a.createElement(d.Provider,{value:{news:j,savedNews:I}},o.a.createElement("div",{className:"app"},"/"===ke?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Be}),o.a.createElement("div",{className:"app__elem-background"},o.a.createElement(h,{onLoginOpen:je,changeBackground:Me,isMobile:he,onSignOut:Ae,loggedIn:le}),o.a.createElement(E,{onSearch:We,isLoading:re,errSearchInput:Y,clearSearchErr:function(){Q("")}}))):o.a.createElement(h,{isMobile:he,onSignOut:Ae,loggedIn:le,changeBackground:Me}),o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:"/",onRegister:ye},o.a.createElement(T,{onSearch:We,loggedIn:le,isLoading:re,isErr:$,isSearchOk:te,currentRow:z,onCardClick:function(e){if(!le)return ye();if(null!==e.urlToImage){var t=I.find((function(t){return t.publishedAt===e.publishedAt&&t.title===e.title}));if(!t)return function(e){var t=e.keyword,a=e.title,n=e.description,o=e.publishedAt,r=e.source,c=e.url,i=e.urlToImage;return fetch("".concat(L,"/articles"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},credentials:"include",body:JSON.stringify({keyword:t,title:a,description:n,publishedAt:o,source:r.name,url:c,urlToImage:i})}).then((function(e){return e.ok,e.json()})).catch((function(e){return console.log(e),Promise.reject(e)}))}(e).then((function(e){return P([e.data].concat(Object(s.a)(I)))})).catch((function(e){return console.log(e)})),I;ze(t)}},onShowMore:function(){M(z+1)}})),o.a.createElement(g,{path:"/saved-news",onCardClick:ze,loggedIn:le,component:W,openLoginPopup:je}),o.a.createElement(m.b,null,o.a.createElement(m.a,{to:"/"}))),o.a.createElement(D,null),o.a.createElement(J,{onClose:Ce,isOpen:r,changePopup:function(){je(),Ce()},changePopupToInfoTooltip:Te,handleRegister:function(t){var a=t.email,n=t.password,o=t.name;ce(!0),function(e,t,a){return fetch("".concat(L,"/signup"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Credentials":!0},body:JSON.stringify({email:e,password:t,name:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return 400===e.statusCode&&e.validation?e.validation.body:e.message||e.data?e:void 0}))})).catch((function(e){return console.log(e),Promise.reject(e)}))}(a,e(n),o).then((function(e){e.data?Te():we(e.message)})).catch((function(e){console.log(e)})).finally((function(){return ce(!1)}))},registrationErr:Ne,setRegistrationErr:we,isLoading:re}),o.a.createElement(F,{onClose:Oe,isOpen:f,changePopup:function(){Oe(),ye()},onLogin:function(t){var a=t.email,n=t.password;ce(!0),function(e,t){return fetch("".concat(L,"/signin"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Credentials":!0},credentials:"include",body:JSON.stringify({email:e,password:t})}).then((function(e){if(200===e.status)return e.json();if(400===e.status)throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email-\u0430\u0434\u0440\u0435\u0441");if(401===e.status)throw new Error("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e.token})).catch((function(e){return console.log(e),Promise.reject(e)}))}(a,e(n)).then((function(e){K(e).then((function(e){return _e(e.data)})).catch((function(e){return we(e.message)})),ue(!0),Oe(),Re()})).catch((function(e){we(e.message)})).finally((function(){return ce(!1)}))},registrationErr:Ne,setRegistrationErr:we,isLoading:re}),o.a.createElement(G,{onClose:xe,changePopup:function(){xe(),je()},isOpen:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(i.a,null,o.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[26,1,2]]]);
//# sourceMappingURL=main.451bb10c.chunk.js.map